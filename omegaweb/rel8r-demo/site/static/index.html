<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>Rel8r Demo: gtd-plus</title>
    <link rel="stylesheet" type="text/css" href="/styles/main.css" />
    <script type="text/javascript" src="/scripts/jquery-1.11.0.min.js"></script>
 	  <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.core.js"></script>
 	  <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.widget.js"></script>
    <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.button.js"></script>
 	  <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.mouse.js"></script>
 	  <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.draggable.js"></script>
 	  <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.position.js"></script>
 	  <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.resizable.js"></script>
 	  <script type="text/javascript" src="/scripts/jquery-ui-1.10.4/ui/jquery.ui.dialog.js"></script>
    <script type="text/javascript">
      var display_specs = {
        "project": {
          "label": "title"
        }
      }
      function getLabel(data, label_spec) {
        var label = "";
        var parts = label_spec.split("&");
        for (var i = 0; i < parts.length; i++) {
          var part = data[parts[i].trim()];
          label += (" " + part);
        }
        return label.trim();
      }
      function required(display_spec, fieldname) {
        return (display_spec.required.indexOf(fieldname)) != -1;
      }
      function showItemBox(item) {
        var parent_box = null;
        var item_type = item["%TYPE"];
        var display_spec = display_specs[item_type];
        var label = getLabel(item, display_spec.label); 
        var box_id = item_type + "-" + item["%ID"] + "-box"; 
        switch (item["%TYPE"]) {
          case "action":
            parent_box = $("#toDoSpace");
            break;
          case "project":
            parent_box = $("#projectSpace");
            break;
          case "person":
            parent_box = $("#contactSpace");
            break;
          case "event":
            parent_box = $("#calendarSpace");
            break;
          case "appointment":
            parent_box = $("#calendarSpace");
            break;
          case "idea":
            parent_box = $("#ideaSpace");
            break;
          case "note":
            parent_box = $("#noteSpace");
            break;
        }
        parent_box.append("<div class='ItemBox'>Hi!</div>", { id: box_id });
      }
      function showToDo() {
        $( ".DisplaySpace" ).addClass("Hidden");
        $( "#main_display" ).removeClass("Overview");
        $( "#toDoSpace" ).removeClass("Hidden");
        $( "#top_nav a" ).removeClass("Selected");
        $( "#toDoTab" ).addClass("Selected");
      }
      function showCalendar() {
        $( ".DisplaySpace" ).addClass("Hidden");
        $( "#main_display" ).removeClass("Overview");
        $( "#calendarSpace" ).removeClass("Hidden");
        $( "#top_nav a" ).removeClass("Selected");
        $( "#calendarTab" ).addClass("Selected");
      }
      function showProjects() {
        $( ".DisplaySpace" ).addClass("Hidden");
        $( "#main_display" ).removeClass("Overview");
        $( "#projectSpace" ).removeClass("Hidden");
        $( "#top_nav a" ).removeClass("Selected");
        $( "#projectTab" ).addClass("Selected");
      }
      function showContacts() {
        $( ".DisplaySpace" ).addClass("Hidden");
        $( "#main_display" ).removeClass("Overview");
        $( "#contactSpace" ).removeClass("Hidden");
        $( "#top_nav a" ).removeClass("Selected");
        $( "#selectedTab" ).addClass("Selected");
      }
      function showIdeas() {
        $( ".DisplaySpace" ).addClass("Hidden");
        $( "#main_display" ).removeClass("Overview");
        $( "#ideaSpace" ).removeClass("Hidden");
        $( "#top_nav a" ).removeClass("Selected");
        $( "#ideaTab" ).addClass("Selected");
      }
      function showNotes() {
        $( ".DisplaySpace" ).addClass("Hidden");
        $( "#main_display" ).removeClass("Overview");
        $( "#noteSpace" ).removeClass("Hidden");
        $( "#top_nav a" ).removeClass("Selected");
        $( "#noteTab" ).addClass("Selected");
      }
      function showOverview() {
        $( "#main_display" ).addClass("Overview");
        $( ".DisplaySpace" ).removeClass("Hidden");
        $( "#top_nav a" ).removeClass("Selected");
        $( "#overviewTab" ).addClass("Selected");
      }
      function newAction() {
        alert("newAction");
      }
      function newEvent() {
        alert("newEvent");
      }
      function newAppointment() {
        alert("newAppointment");
      }
      function newProject() {
        alert("newProject");
      }
      function newContact() {
        alert("newContact");
      }
      function newIdea() {
        alert("newIdea");
      }
      function newNote() {
        alert("newNote");
      }
      var test_projects = [{
        "%TYPE": "project",
        "%ID": "breed-mutant-seahorses",
        "%LABEL": "title",
        "title": "Breed Mutant Seahorses",
        "deadline": "2014-03-28T17:00:00",
        "contact": "jane-morgan",
        "step": ["build-tank", "catch-seahorses", "assign-to-tanks"] 
      }];
      var test_actions = [{
        "%TYPE": "action",
        "%ID": "build-tank",
        "%LABEL": "content",
        "content": "Build tank for seahorses",
        "context": ["lab"] 
      },
      {
        "%TYPE": "action",
        "%ID": "catch-seahorses",
        "%LABEL": "content",
        "content": "Catch us some seahorses",
        "context": ["atlantic","pacific","indian"] 
      },
      {
        "%TYPE": "action",
        "%ID": "assign-to-tanks",
        "%LABEL": "content",
        "content": "Put 'em in da tanks",
        "context": ["lab"] 
      }];
      var test_persons = [{
        "%TYPE": "person",
        "%ID": "jane-morgan",
        "%LABEL": "given-name & surname",
        "given-name": "Jane",
        "surname": "Morgan",
        "email": ["jane-morgan-work-email"] 
      }];
      var test_emails = [{
        "%TYPE": "email-address",
        "%ID": "jane-morgan-work-email",
        "label": "Work",
        "address": "dr.jane.v.morgan@sea-creature-research.com" 
      }];
      
      $( document ).ready( function() {
        showOverview();
        showItemBox(test_projects[0]);
      });
    </script>
  </head>
  <body>
    <div id="header">
      <div id="logobox">
        <img src="/images/oweb-logo80.png" alt="OmegaWeb" />
      </div>
      <div id="header_main">
        <div id="page_title">
          demo/gtd-plus
        </div>
        <div id="top_nav">
          <a id="overviewTab" class="displayTab" href="#" onclick="showOverview();">Overview</a><!--
          --><a id="toDoTab" class="displayTab" href="#" onclick="showToDo();">ToDo</a><!--
          --><a id="calendarTab" class="displayTab" href="#" onclick="showCalendar();">Calendar</a><!--
          --><a id="projectTab" class="displayTab" href="#" onclick="showProjects();">Projects</a><!--
          --><a id="contactTab" class="displayTab" href="#" onclick="showContacts();">Contacts</a><!--
          --><a id="ideaTab" class="displayTab" href="#" onclick="showIdeas();">Ideas</a><!--
          --><a id="noteTab" class="displayTab" href="#" onclick="showNotes();">Notes</a>
        </div>
      </div>
    </div>
    <div id="main_region">
      <div id="sub_nav">
        <div id="local_menu"></div>
        <div id="quick_menu">
          <a href="#" onclick="newAction();">New Action</a>
          <a href="#" onclick="newEvent();">New Event</a>
          <a href="#" onclick="newAppointment();">New Appointment</a>
          <a href="#" onclick="newProject();">New Project</a>
          <a href="#" onclick="newContact();">New Contact</a>
          <a href="#" onclick="newIdea();">New Idea</a>
          <a href="#" onclick="newNote();">New Note</a>
        </div>
      </div>
      <div id="main_display">
        <div id="toDoSpace" class="DisplaySpace">
          <h3>TO DO</h3>
          &#xA0;
        </div>
        <div id="calendarSpace" class="DisplaySpace">
          <h3>CALENDAR</h3>
          &#xA0;
        </div>
        <div id="projectSpace" class="DisplaySpace">
          <h3>PROJECTS</h3>
          &#xA0;
        </div>
        <div id="contactSpace" class="DisplaySpace">
          <h3>CONTACTS</h3>
          &#xA0;
        </div>
        <div id="ideaSpace" class="DisplaySpace">
          <h3>IDEAS</h3>
          &#xA0;
        </div>
        <div id="noteSpace" class="DisplaySpace">
          <h3>NOTES</h3>
          &#xA0;
        </div>
      </div>
    </div>
    <div id="footer">
  
    </div>
  </body>
</html>
